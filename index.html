<!DOCTYPE html>
<html>
  <head>
    <title>Bake your cake</title>
    <meta name="description" content="Bake your cake">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <style>
      .start-ui {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        text-align: center;
      }

      .start-ui button {
        margin: 10px;
        padding: 15px 30px;
        font-size: 18px;
        cursor: pointer;
      }

      /* Cake choice tabs */
      .cake-choice {
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 20px;
        z-index: 10;
        display: none; /* hidden at first */
      }

      .cake-choice div {
        padding: 20px 30px;
        font-size: 20px;
        font-weight: bold;
        border-radius: 10px;
        color: white;
        cursor: pointer;
        text-align: center;
      }

      #chocolateTab {
        background-color: #d2691e; /* light brown */
      }

      #blueberryTab {
        background-color: #4169e1; /* blue */
      }

      #cherryTab {
        background-color: #ff69b4; /* pink */
      }
    </style>
  </head>

  <body>
    <!-- Start Screen -->
    <div class="start-ui" id="startScreen">
      <img 
        src="https://images.pexels.com/photos/9095/pexels-photo.jpg" 
        alt="Start Background" 
        style="width: 100%; max-width: 600px; border-radius: 10px; margin-bottom: 20px;" 
      />
      <h1>Bake your cake</h1>
      <button onclick="startGame()">Start</button>
      <button onclick="window.close()">Quit</button>
    </div>

    <!-- Cake choice tabs -->
    <div class="cake-choice" id="cakeChoices">
      <div id="chocolateTab" onclick="chooseCake('chocolate')">Chocolate Cake</div>
      <div id="blueberryTab" onclick="chooseCake('blueberry')">Blueberry Cake</div>
      <div id="cherryTab" onclick="chooseCake('cherry')">Cherry Cake</div>
    </div>

    <!-- A-Frame Scene -->
    <a-scene id="scene" vr-mode-ui="enabled: false">
      <!-- Camera and Cursor -->
      <a-entity id="cameraRig" position="0 0 0">
        <a-camera position="0 1.6 0"> <!-- Human height camera at middle -->
          <a-cursor rayOrigin="mouse" material="color: black; shader: flat"></a-cursor>
        </a-camera>
      </a-entity>

      <!-- Lighting -->
      <a-entity light="type: ambient; intensity: 0.5"></a-entity>
      <a-entity light="type: directional; intensity: 0.8" position="0 2 1"></a-entity>

      <!-- Example entity (kitchen walls etc stay hidden until game logic reveals them) -->
      <a-entity id="kitchenrightwall" gltf-model="kitchenrightwall.glb" position="1 1 -3" visible="false"></a-entity>
      
      <!-- Sounds -->
      <a-sound id="correctSound" src="assets/correct.mp3"></a-sound>
      <a-sound id="wrongSound" src="assets/wrong.mp3"></a-sound>
      <a-sound id="mainmusic" src="baking cooking jazz.mp3" autoplay="false" loop="true"></a-sound>
    </a-scene>

    <script>
      function startGame() {
        // Hide the start screen
        document.getElementById('startScreen').style.display = 'none';

        // Show cake choice tabs
        document.getElementById('cakeChoices').style.display = 'flex';

        // Restart music from the beginning
        const music = document.querySelector('#mainmusic');
        if (music && music.components && music.components.sound) {
          music.components.sound.stopSound();
          music.components.sound.playSound();
        }
      }

      function chooseCake(cakeName) {
        alert("You chose: " + cakeName + " cake!");
        // Later: hide other tabs, show recipe list on side, reveal kitchen etc.
      }
    </script>
  </body>
</html>
